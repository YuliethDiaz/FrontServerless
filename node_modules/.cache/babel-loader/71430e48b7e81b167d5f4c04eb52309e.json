{"ast":null,"code":"import React,{Fragment,useEffect}from'react';import{Route,Routes,Link,Outlet}from'react-router-dom';import useToken from\"./components/Hooks/useToken\";import Layout from'./components/Home/Layout';import ClientTable from'./components/Client/ClientTable';import CreateClient from'./components/Client/CreateClient';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var urlSearchParams=new URLSearchParams(window.location.hash);var params=Object.fromEntries(urlSearchParams.entries());var API_URL=process.env.REACT_APP_SERVER_URL;var LOGIN=process.env.REACT_APP_LOGIN_URL;var _useToken=useToken(),Token=_useToken.Token,setToken=_useToken.setToken;if(Token==null||Token==\"\"){if(params[\"#id_token\"]!=undefined){setToken(params[\"#id_token\"]);}}useEffect(function(){var TokenValue=Token.value?Token.value:Token;/*  axios.get(API_URL+'/decodetoken', {\r\n      params: {\r\n          encoded:'\"'+TokenValue+'\"'\r\n      }\r\n          }).then(response => { \r\n\r\n            var dataResult = JSON.parse(JSON.stringify(response.data));    \r\n            console.log(dataResult)  \r\n            if(dataResult.errorMessage !== undefined ){\r\n                if(dataResult.errorMessage){\r\n                  swal({  \r\n                      title:\"Error\",\r\n                      text:\"Not authorized\",\r\n                      icon: \"error\"\r\n                    }).then(() => {\r\n                      window.localStorage.clear();\r\n                      window.location.href = LOGIN; \r\n\r\n                    });\r\n\r\n\r\n                }\r\n            }else{\r\n\r\n                //entro\r\n              }\r\n                  \r\n          \r\n          })  */},[Token]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Routes,{children:/*#__PURE__*/_jsxs(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Layout,{}),children:[/*#__PURE__*/_jsx(Route,{path:\"/clients\",element:/*#__PURE__*/_jsx(ClientTable,{})}),/*#__PURE__*/_jsx(Route,{path:\"/clients/create\",element:/*#__PURE__*/_jsx(CreateClient,{})})]})})});};export default App;","map":{"version":3,"sources":["C:/Users/Valen/OneDrive/Documentos/Proyecto AWS/FrontServerless/src/App.jsx"],"names":["React","Fragment","useEffect","Route","Routes","Link","Outlet","useToken","Layout","ClientTable","CreateClient","App","urlSearchParams","URLSearchParams","window","location","hash","params","Object","fromEntries","entries","API_URL","process","env","REACT_APP_SERVER_URL","LOGIN","REACT_APP_LOGIN_URL","Token","setToken","undefined","TokenValue","value"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAwBC,SAAxB,KAAyC,OAAzC,CACA,OAASC,KAAT,CAAeC,MAAf,CAAsBC,IAAtB,CAA2BC,MAA3B,KAAyC,kBAAzC,CACA,MAAOC,CAAAA,QAAP,KAAqB,6BAArB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,WAAP,KAAwB,iCAAxB,CACA,MAAOC,CAAAA,YAAP,KAAyB,kCAAzB,C,wFAEA,GAAMC,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,EAAK,CAGf,GAAMC,CAAAA,eAAe,CAAG,GAAIC,CAAAA,eAAJ,CAAoBC,MAAM,CAACC,QAAP,CAAgBC,IAApC,CAAxB,CACA,GAAMC,CAAAA,MAAM,CAAGC,MAAM,CAACC,WAAP,CAAmBP,eAAe,CAACQ,OAAhB,EAAnB,CAAf,CACA,GAAMC,CAAAA,OAAO,CAAGC,OAAO,CAACC,GAAR,CAAYC,oBAA5B,CACA,GAAMC,CAAAA,KAAK,CAAEH,OAAO,CAACC,GAAR,CAAYG,mBAAzB,CACA,cAA4BnB,QAAQ,EAApC,CAAQoB,KAAR,WAAQA,KAAR,CAAeC,QAAf,WAAeA,QAAf,CAGA,GAAGD,KAAK,EAAI,IAAT,EAAiBA,KAAK,EAAI,EAA7B,CAAiC,CAC/B,GAAGV,MAAM,CAAC,WAAD,CAAN,EAAuBY,SAA1B,CAAoC,CACjCD,QAAQ,CAACX,MAAM,CAAC,WAAD,CAAP,CAAR,CACF,CACH,CAEEf,SAAS,CAAC,UAAM,CAEd,GAAI4B,CAAAA,UAAU,CAAGH,KAAK,CAACI,KAAN,CAAcJ,KAAK,CAACI,KAApB,CAA4BJ,KAA7C,CAED;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAES,CAlCI,CAkCF,CAACA,KAAD,CAlCE,CAAT,CAqCF,mBACE,kCAKE,KAAC,MAAD,wBACA,MAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,OAAO,cAAE,KAAC,MAAD,IAAzB,wBACE,KAAC,KAAD,EAAO,IAAI,CAAC,UAAZ,CAAuB,OAAO,cAAE,KAAC,WAAD,IAAhC,EADF,cAEE,KAAC,KAAD,EAAO,IAAI,CAAC,iBAAZ,CAA8B,OAAO,cAAE,KAAC,YAAD,IAAvC,EAFF,GADA,EALF,EADF,CAiBD,CAtED,CAwEA,cAAehB,CAAAA,GAAf","sourcesContent":["import React ,{Fragment,useEffect } from 'react'\r\nimport { Route,Routes,Link,Outlet } from 'react-router-dom';\r\nimport useToken from \"./components/Hooks/useToken\";\r\nimport Layout from './components/Home/Layout';\r\nimport ClientTable from './components/Client/ClientTable';\r\nimport CreateClient from './components/Client/CreateClient';\r\n\r\nconst App = () =>{\r\n\r\n\r\n  const urlSearchParams = new URLSearchParams(window.location.hash);\r\n  const params = Object.fromEntries(urlSearchParams.entries());\r\n  const API_URL = process.env.REACT_APP_SERVER_URL;    \r\n  const LOGIN =process.env.REACT_APP_LOGIN_URL;\r\n  const { Token, setToken } = useToken();\r\n\r\n\r\n  if(Token == null || Token == \"\") {\r\n    if(params[\"#id_token\"] != undefined){\r\n       setToken(params[\"#id_token\"])\r\n    }\r\n }\r\n \r\n    useEffect(() => {\r\n    \r\n      var TokenValue = Token.value ? Token.value : Token;\r\n\r\n     /*  axios.get(API_URL+'/decodetoken', {\r\n      params: {\r\n          encoded:'\"'+TokenValue+'\"'\r\n      }\r\n          }).then(response => { \r\n\r\n            var dataResult = JSON.parse(JSON.stringify(response.data));    \r\n            console.log(dataResult)  \r\n            if(dataResult.errorMessage !== undefined ){\r\n                if(dataResult.errorMessage){\r\n                  swal({  \r\n                      title:\"Error\",\r\n                      text:\"Not authorized\",\r\n                      icon: \"error\"\r\n                    }).then(() => {\r\n                      window.localStorage.clear();\r\n                      window.location.href = LOGIN; \r\n\r\n                    });\r\n\r\n\r\n                }\r\n            }else{\r\n\r\n                //entro\r\n              }\r\n                  \r\n          \r\n          })  */\r\n            \r\n        }, [Token]);\r\n\r\n\r\n  return (\r\n    <div>\r\n      \r\n     \r\n\r\n\r\n      <Routes>\r\n      <Route path=\"/\" element={<Layout />} >\r\n        <Route path=\"/clients\" element={<ClientTable />} ></Route>\r\n        <Route path=\"/clients/create\" element={<CreateClient />} ></Route>\r\n        </Route>\r\n      </Routes>\r\n    </div>\r\n\r\n\r\n\r\n  )\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}