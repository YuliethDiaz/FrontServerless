{"ast":null,"code":"import _toConsumableArray from \"C:/Users/Valen/OneDrive/Documentos/Proyecto AWS/FrontServerless/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"C:/Users/Valen/OneDrive/Documentos/Proyecto AWS/FrontServerless/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"C:/Users/Valen/OneDrive/Documentos/Proyecto AWS/FrontServerless/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"C:/Users/Valen/OneDrive/Documentos/Proyecto AWS/FrontServerless/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/Valen/OneDrive/Documentos/Proyecto AWS/FrontServerless/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _get from \"C:/Users/Valen/OneDrive/Documentos/Proyecto AWS/FrontServerless/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/get\";\nimport _getPrototypeOf from \"C:/Users/Valen/OneDrive/Documentos/Proyecto AWS/FrontServerless/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:/Users/Valen/OneDrive/Documentos/Proyecto AWS/FrontServerless/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:/Users/Valen/OneDrive/Documentos/Proyecto AWS/FrontServerless/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\n\n/**\r\n * DevExtreme (esm/renovation/component_wrapper/common/component.js)\r\n * Version: 21.2.5\r\n * Build date: Mon Jan 17 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createRef } from \"inferno\";\nimport KeyboardProcessor from \"../../../events/core/keyboard_processor\";\nimport renderer from \"../../../core/inferno_renderer\";\nimport $ from \"../../../core/renderer\";\nimport domAdapter from \"../../../core/dom_adapter\";\nimport DOMComponent from \"../../../core/dom_component\";\nimport { extend } from \"../../../core/utils/extend\";\nimport { getPublicElement } from \"../../../core/element\";\nimport { isDefined, isRenderer, isString } from \"../../../core/utils/type\";\nimport { TemplateWrapper } from \"./template_wrapper\";\nimport { updatePropsImmutable } from \"../utils/update_props_immutable\";\n\nvar setDefaultOptionValue = function setDefaultOptionValue(options, defaultValueGetter) {\n  return function (name) {\n    if (Object.prototype.hasOwnProperty.call(options, name) && void 0 === options[name]) {\n      options[name] = defaultValueGetter(name);\n    }\n  };\n};\n\nvar ComponentWrapper = /*#__PURE__*/function (_DOMComponent) {\n  _inherits(ComponentWrapper, _DOMComponent);\n\n  var _super = _createSuper(ComponentWrapper);\n\n  function ComponentWrapper(element, options) {\n    var _this;\n\n    _classCallCheck(this, ComponentWrapper);\n\n    _this = _super.call(this, element, options);\n    _this._shouldRaiseContentReady = false;\n\n    _this.validateKeyDownHandler();\n\n    return _this;\n  }\n\n  _createClass(ComponentWrapper, [{\n    key: \"_propsInfo\",\n    get: function get() {\n      return {\n        allowNull: [],\n        twoWay: [],\n        elements: [],\n        templates: [],\n        props: []\n      };\n    }\n  }, {\n    key: \"validateKeyDownHandler\",\n    value: function validateKeyDownHandler() {\n      var supportedKeyNames = this.getSupportedKeyNames();\n      var hasComponentDefaultKeyHandlers = supportedKeyNames.length > 0;\n      var hasComponentKeyDownMethod = \"function\" === typeof this._viewComponent.prototype.keyDown;\n\n      if (hasComponentDefaultKeyHandlers && !hasComponentKeyDownMethod) {\n        throw Error(\"Component's declaration must have 'keyDown' method.\");\n      }\n    }\n  }, {\n    key: \"viewRef\",\n    get: function get() {\n      var _this$_viewRef;\n\n      return null === (_this$_viewRef = this._viewRef) || void 0 === _this$_viewRef ? void 0 : _this$_viewRef.current;\n    }\n  }, {\n    key: \"_checkContentReadyOption\",\n    value: function _checkContentReadyOption(fullName) {\n      var contentReadyOptions = this._getContentReadyOptions().reduce(function (options, name) {\n        options[name] = true;\n        return options;\n      }, {});\n\n      this._checkContentReadyOption = function (optionName) {\n        return !!contentReadyOptions[optionName];\n      };\n\n      return this._checkContentReadyOption(fullName);\n    }\n  }, {\n    key: \"_getContentReadyOptions\",\n    value: function _getContentReadyOptions() {\n      return [\"rtlEnabled\"];\n    }\n  }, {\n    key: \"_fireContentReady\",\n    value: function _fireContentReady() {\n      this._actionsMap.onContentReady({});\n    }\n  }, {\n    key: \"_getDefaultOptions\",\n    value: function _getDefaultOptions() {\n      var _this2 = this;\n\n      return extend(true, _get(_getPrototypeOf(ComponentWrapper.prototype), \"_getDefaultOptions\", this).call(this), this._viewComponent.defaultProps, this._propsInfo.twoWay.reduce(function (options, _ref) {\n        var _extends2;\n\n        var _ref5 = _slicedToArray(_ref, 3),\n            name = _ref5[0],\n            defaultName = _ref5[1],\n            eventName = _ref5[2];\n\n        return _extends({}, options, (_extends2 = {}, _defineProperty(_extends2, name, _this2._viewComponent.defaultProps[defaultName]), _defineProperty(_extends2, eventName, function (value) {\n          return _this2.option(name, value);\n        }), _extends2));\n      }, {}), this._propsInfo.templates.reduce(function (options, name) {\n        return _extends({}, options, _defineProperty({}, name, null));\n      }, {}));\n    }\n  }, {\n    key: \"_initMarkup\",\n    value: function _initMarkup() {\n      var props = this.getProps();\n\n      this._renderWrapper(props);\n    }\n  }, {\n    key: \"_renderWrapper\",\n    value: function _renderWrapper(props) {\n      var containerNode = this.$element()[0];\n\n      if (!this._isNodeReplaced) {\n        renderer.onPreRender();\n      }\n\n      renderer.render(this._viewComponent, props, containerNode, this._isNodeReplaced);\n\n      if (!this._isNodeReplaced) {\n        this._isNodeReplaced = true;\n        renderer.onAfterRender();\n        this._shouldRaiseContentReady = true;\n      }\n\n      if (this._shouldRaiseContentReady) {\n        this._fireContentReady();\n\n        this._shouldRaiseContentReady = false;\n      }\n    }\n  }, {\n    key: \"_silent\",\n    value: function _silent(name, value) {\n      this._options.silent(name, value);\n    }\n  }, {\n    key: \"_render\",\n    value: function _render() {}\n  }, {\n    key: \"_removeWidget\",\n    value: function _removeWidget() {\n      renderer.remove(this.$element()[0]);\n    }\n  }, {\n    key: \"_dispose\",\n    value: function _dispose() {\n      this._removeWidget();\n\n      _get(_getPrototypeOf(ComponentWrapper.prototype), \"_dispose\", this).call(this);\n    }\n  }, {\n    key: \"elementAttr\",\n    get: function get() {\n      var _this3 = this;\n\n      if (!this._elementAttr) {\n        var attributes = this.$element()[0].attributes;\n        var attrs = Array.from(attributes).filter(function (attr) {\n          var _attributes$attr$name;\n\n          return !_this3._propsInfo.templates.includes(attr.name) && (null === (_attributes$attr$name = attributes[attr.name]) || void 0 === _attributes$attr$name ? void 0 : _attributes$attr$name.specified);\n        }).reduce(function (result, _ref2) {\n          var name = _ref2.name,\n              value = _ref2.value;\n          var updatedAttributes = result;\n          updatedAttributes[name] = value;\n          return updatedAttributes;\n        }, {});\n        this._elementAttr = attrs;\n        this._storedClasses = this.$element()[0].getAttribute(\"class\") || \"\";\n      }\n\n      var elemStyle = this.$element()[0].style;\n      var style = {};\n\n      for (var i = 0; i < elemStyle.length; i += 1) {\n        style[elemStyle[i]] = elemStyle.getPropertyValue(elemStyle[i]);\n      }\n\n      this._elementAttr.style = style;\n      this._elementAttr.class = this._storedClasses;\n      return this._elementAttr;\n    }\n  }, {\n    key: \"_getAdditionalActionConfigs\",\n    value: function _getAdditionalActionConfigs() {\n      return {\n        onContentReady: {\n          excludeValidators: [\"disabled\", \"readOnly\"]\n        }\n      };\n    }\n  }, {\n    key: \"_getAdditionalProps\",\n    value: function _getAdditionalProps() {\n      return [];\n    }\n  }, {\n    key: \"_patchOptionValues\",\n    value: function _patchOptionValues(options) {\n      var _this4 = this;\n\n      var _this$_propsInfo = this._propsInfo,\n          allowNull = _this$_propsInfo.allowNull,\n          elements = _this$_propsInfo.elements,\n          props = _this$_propsInfo.props,\n          twoWay = _this$_propsInfo.twoWay;\n      var defaultProps = this._viewComponent.defaultProps;\n      var children = options.children,\n          onKeyboardHandled = options.onKeyboardHandled,\n          ref = options.ref;\n      var onKeyDown = onKeyboardHandled ? function (_, event_options) {\n        onKeyboardHandled(event_options);\n      } : void 0;\n      var widgetProps = {\n        ref: ref,\n        children: children,\n        onKeyDown: onKeyDown\n      };\n      [].concat(_toConsumableArray(props), _toConsumableArray(this._getAdditionalProps())).forEach(function (propName) {\n        if (Object.prototype.hasOwnProperty.call(options, propName)) {\n          widgetProps[propName] = options[propName];\n        }\n      });\n      allowNull.forEach(setDefaultOptionValue(widgetProps, function () {\n        return null;\n      }));\n      Object.keys(defaultProps).forEach(setDefaultOptionValue(widgetProps, function (name) {\n        return defaultProps[name];\n      }));\n      twoWay.forEach(function (_ref3) {\n        var _ref6 = _slicedToArray(_ref3, 2),\n            name = _ref6[0],\n            defaultName = _ref6[1];\n\n        setDefaultOptionValue(widgetProps, function () {\n          return defaultProps[defaultName];\n        })(name);\n      });\n      elements.forEach(function (name) {\n        if (name in widgetProps) {\n          var value = widgetProps[name];\n\n          if (isRenderer(value)) {\n            widgetProps[name] = _this4._patchElementParam(value);\n          }\n        }\n      });\n      return widgetProps;\n    }\n  }, {\n    key: \"getSupportedKeyNames\",\n    value: function getSupportedKeyNames() {\n      return [];\n    }\n  }, {\n    key: \"prepareStyleProp\",\n    value: function prepareStyleProp(props) {\n      if (\"string\" === typeof props.style) {\n        return _extends({}, props, {\n          style: {},\n          cssText: props.style\n        });\n      }\n\n      return props;\n    }\n  }, {\n    key: \"getProps\",\n    value: function getProps() {\n      var _this5 = this;\n\n      var _this$elementAttr$cla, _elementAttr$class;\n\n      var _this$option = this.option(),\n          elementAttr = _this$option.elementAttr;\n\n      var options = this._patchOptionValues(_extends({}, this._props, {\n        ref: this._viewRef,\n        children: this._extractDefaultSlot(),\n        aria: this._aria\n      }));\n\n      this._propsInfo.templates.forEach(function (template) {\n        options[template] = _this5._componentTemplates[template];\n      });\n\n      return this.prepareStyleProp(_extends({}, options, this.elementAttr, elementAttr, {\n        className: [].concat(_toConsumableArray((null !== (_this$elementAttr$cla = this.elementAttr.class) && void 0 !== _this$elementAttr$cla ? _this$elementAttr$cla : \"\").split(\" \")), _toConsumableArray((null !== (_elementAttr$class = null === elementAttr || void 0 === elementAttr ? void 0 : elementAttr.class) && void 0 !== _elementAttr$class ? _elementAttr$class : \"\").split(\" \"))).filter(function (c, i, a) {\n          return c && a.indexOf(c) === i;\n        }).join(\" \").trim(),\n        class: \"\"\n      }, this._actionsMap));\n    }\n  }, {\n    key: \"_getActionConfigs\",\n    value: function _getActionConfigs() {\n      return {};\n    }\n  }, {\n    key: \"_getActionConfigsFull\",\n    value: function _getActionConfigsFull() {\n      return _extends({}, this._getActionConfigs(), this._getAdditionalActionConfigs());\n    }\n  }, {\n    key: \"getDefaultTemplates\",\n    value: function getDefaultTemplates() {\n      var defaultTemplates = Object.values(this._templatesInfo);\n      var result = {};\n      defaultTemplates.forEach(function (template) {\n        result[template] = \"dx-renovation-template-mock\";\n      });\n      return result;\n    }\n  }, {\n    key: \"_templatesInfo\",\n    get: function get() {\n      return {};\n    }\n  }, {\n    key: \"_optionsWithDefaultTemplates\",\n    value: function _optionsWithDefaultTemplates(options) {\n      var templateOptions = Object.entries(this._templatesInfo).reduce(function (result, _ref4) {\n        var _options$templateName;\n\n        var _ref7 = _slicedToArray(_ref4, 2),\n            templateName = _ref7[0],\n            templateValue = _ref7[1];\n\n        return _extends({}, result, _defineProperty({}, templateName, null !== (_options$templateName = options[templateName]) && void 0 !== _options$templateName ? _options$templateName : templateValue));\n      }, {});\n      return _extends({}, options, templateOptions);\n    }\n  }, {\n    key: \"_init\",\n    value: function _init() {\n      var _this6 = this;\n\n      var _this$_templateManage;\n\n      _get(_getPrototypeOf(ComponentWrapper.prototype), \"_init\", this).call(this);\n\n      this.customKeyHandlers = {};\n      null === (_this$_templateManage = this._templateManager) || void 0 === _this$_templateManage ? void 0 : _this$_templateManage.addDefaultTemplates(this.getDefaultTemplates());\n      this._props = this._optionsWithDefaultTemplates(this.option());\n      this._actionsMap = {};\n      this._aria = {};\n      this._componentTemplates = {};\n\n      this._propsInfo.templates.forEach(function (template) {\n        _this6._componentTemplates[template] = _this6._createTemplateComponent(_this6._props[template]);\n      });\n\n      Object.keys(this._getActionConfigsFull()).forEach(function (name) {\n        return _this6._addAction(name);\n      });\n      this._viewRef = createRef();\n      this.defaultKeyHandlers = this._createDefaultKeyHandlers();\n    }\n  }, {\n    key: \"_createDefaultKeyHandlers\",\n    value: function _createDefaultKeyHandlers() {\n      var _this7 = this;\n\n      var result = {};\n      var keys = this.getSupportedKeyNames();\n      keys.forEach(function (key) {\n        result[key] = function (e) {\n          return _this7.viewRef.keyDown(KeyboardProcessor.createKeyDownOptions(e));\n        };\n      });\n      return result;\n    }\n  }, {\n    key: \"_addAction\",\n    value: function _addAction(event, actionToAdd) {\n      var action = actionToAdd;\n\n      if (!action) {\n        var actionByOption = this._createActionByOption(event, this._getActionConfigsFull()[event]);\n\n        action = function action(actArgs) {\n          Object.keys(actArgs).forEach(function (name) {\n            if (isDefined(actArgs[name]) && domAdapter.isNode(actArgs[name])) {\n              actArgs[name] = getPublicElement($(actArgs[name]));\n            }\n          });\n          return actionByOption(actArgs);\n        };\n      }\n\n      this._actionsMap[event] = action;\n    }\n  }, {\n    key: \"_optionChanged\",\n    value: function _optionChanged(option) {\n      var fullName = option.fullName,\n          name = option.name,\n          value = option.value;\n      updatePropsImmutable(this._props, this.option(), name, fullName);\n\n      if (this._propsInfo.templates.includes(name)) {\n        this._componentTemplates[name] = this._createTemplateComponent(value);\n      }\n\n      if (name && this._getActionConfigsFull()[name]) {\n        this._addAction(name);\n      }\n\n      this._shouldRaiseContentReady = this._shouldRaiseContentReady || this._checkContentReadyOption(fullName);\n\n      _get(_getPrototypeOf(ComponentWrapper.prototype), \"_optionChanged\", this).call(this, option);\n\n      this._invalidate();\n    }\n  }, {\n    key: \"_extractDefaultSlot\",\n    value: function _extractDefaultSlot() {\n      if (this.option(\"_hasAnonymousTemplateContent\")) {\n        return renderer.createElement(TemplateWrapper, {\n          template: this._getTemplate(this._templateManager.anonymousTemplateName),\n          transclude: true\n        });\n      }\n\n      return null;\n    }\n  }, {\n    key: \"_createTemplateComponent\",\n    value: function _createTemplateComponent(templateOption) {\n      if (!templateOption) {\n        return;\n      }\n\n      var template = this._getTemplate(templateOption);\n\n      if (isString(template) && \"dx-renovation-template-mock\" === template) {\n        return;\n      }\n\n      return function (model) {\n        return renderer.createElement(TemplateWrapper, {\n          template: template,\n          model: model\n        });\n      };\n    }\n  }, {\n    key: \"_wrapKeyDownHandler\",\n    value: function _wrapKeyDownHandler(initialHandler) {\n      var _this8 = this;\n\n      return function (options) {\n        var keyName = options.keyName,\n            originalEvent = options.originalEvent,\n            which = options.which;\n        var keys = _this8.customKeyHandlers;\n        var func = keys[keyName] || keys[which];\n\n        if (void 0 !== func) {\n          var handler = func.bind(_this8);\n          var result = handler(originalEvent, options);\n\n          if (!result) {\n            originalEvent.cancel = true;\n            return originalEvent;\n          }\n        }\n\n        return null === initialHandler || void 0 === initialHandler ? void 0 : initialHandler(originalEvent, options);\n      };\n    }\n  }, {\n    key: \"_toPublicElement\",\n    value: function _toPublicElement(element) {\n      return getPublicElement($(element));\n    }\n  }, {\n    key: \"_patchElementParam\",\n    value: function _patchElementParam(value) {\n      try {\n        var result = $(value);\n        var element = null === result || void 0 === result ? void 0 : result.get(0);\n        return null !== element && void 0 !== element && element.nodeType ? element : value;\n      } catch (error) {\n        return value;\n      }\n    }\n  }, {\n    key: \"repaint\",\n    value: function repaint() {\n      this._isNodeReplaced = false;\n      this._shouldRaiseContentReady = true;\n\n      this._removeWidget();\n\n      this._refresh();\n    }\n  }, {\n    key: \"_supportedKeys\",\n    value: function _supportedKeys() {\n      return _extends({}, this.defaultKeyHandlers, this.customKeyHandlers);\n    }\n  }, {\n    key: \"registerKeyHandler\",\n    value: function registerKeyHandler(key, handler) {\n      this.customKeyHandlers[key] = handler;\n    }\n  }, {\n    key: \"setAria\",\n    value: function setAria(name, value) {\n      this._aria[name] = value;\n\n      this._initMarkup();\n    }\n  }]);\n\n  return ComponentWrapper;\n}(DOMComponent);\n\nexport { ComponentWrapper as default };\nComponentWrapper.IS_RENOVATED_WIDGET = false;\nComponentWrapper.IS_RENOVATED_WIDGET = true;","map":{"version":3,"sources":["C:/Users/Valen/OneDrive/Documentos/Proyecto AWS/FrontServerless/node_modules/devextreme/esm/renovation/component_wrapper/common/component.js"],"names":["_extends","createRef","KeyboardProcessor","renderer","$","domAdapter","DOMComponent","extend","getPublicElement","isDefined","isRenderer","isString","TemplateWrapper","updatePropsImmutable","setDefaultOptionValue","options","defaultValueGetter","name","Object","prototype","hasOwnProperty","call","ComponentWrapper","element","_shouldRaiseContentReady","validateKeyDownHandler","allowNull","twoWay","elements","templates","props","supportedKeyNames","getSupportedKeyNames","hasComponentDefaultKeyHandlers","length","hasComponentKeyDownMethod","_viewComponent","keyDown","Error","_this$_viewRef","_viewRef","current","fullName","contentReadyOptions","_getContentReadyOptions","reduce","_checkContentReadyOption","optionName","_actionsMap","onContentReady","defaultProps","_propsInfo","_ref","defaultName","eventName","value","option","getProps","_renderWrapper","containerNode","$element","_isNodeReplaced","onPreRender","render","onAfterRender","_fireContentReady","_options","silent","remove","_removeWidget","_elementAttr","attributes","attrs","Array","from","filter","attr","_attributes$attr$name","includes","specified","result","_ref2","updatedAttributes","_storedClasses","getAttribute","elemStyle","style","i","getPropertyValue","class","excludeValidators","children","onKeyboardHandled","ref","onKeyDown","_","event_options","widgetProps","_getAdditionalProps","forEach","propName","keys","_ref3","_patchElementParam","cssText","_this$elementAttr$cla","_elementAttr$class","elementAttr","_patchOptionValues","_props","_extractDefaultSlot","aria","_aria","template","_componentTemplates","prepareStyleProp","className","split","c","a","indexOf","join","trim","_getActionConfigs","_getAdditionalActionConfigs","defaultTemplates","values","_templatesInfo","templateOptions","entries","_ref4","_options$templateName","templateName","templateValue","_this$_templateManage","customKeyHandlers","_templateManager","addDefaultTemplates","getDefaultTemplates","_optionsWithDefaultTemplates","_createTemplateComponent","_getActionConfigsFull","_addAction","defaultKeyHandlers","_createDefaultKeyHandlers","key","e","viewRef","createKeyDownOptions","event","actionToAdd","action","actionByOption","_createActionByOption","actArgs","isNode","_invalidate","createElement","_getTemplate","anonymousTemplateName","transclude","templateOption","model","initialHandler","keyName","originalEvent","which","func","handler","bind","cancel","get","nodeType","error","_refresh","_initMarkup","IS_RENOVATED_WIDGET"],"mappings":";;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAOA,QAAP,MAAqB,oCAArB;AACA,SACIC,SADJ,QAEO,SAFP;AAGA,OAAOC,iBAAP,MAA8B,yCAA9B;AACA,OAAOC,QAAP,MAAqB,gCAArB;AACA,OAAOC,CAAP,MAAc,wBAAd;AACA,OAAOC,UAAP,MAAuB,2BAAvB;AACA,OAAOC,YAAP,MAAyB,6BAAzB;AACA,SACIC,MADJ,QAEO,4BAFP;AAGA,SACIC,gBADJ,QAEO,uBAFP;AAGA,SACIC,SADJ,EAEIC,UAFJ,EAGIC,QAHJ,QAIO,0BAJP;AAKA,SACIC,eADJ,QAEO,oBAFP;AAGA,SACIC,oBADJ,QAEO,iCAFP;;AAGA,IAAIC,qBAAqB,GAAG,SAAxBA,qBAAwB,CAACC,OAAD,EAAUC,kBAAV;AAAA,SAAiC,UAAAC,IAAI,EAAI;AACjE,QAAIC,MAAM,CAACC,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCN,OAArC,EAA8CE,IAA9C,KAAuD,KAAK,CAAL,KAAWF,OAAO,CAACE,IAAD,CAA7E,EAAqF;AACjFF,MAAAA,OAAO,CAACE,IAAD,CAAP,GAAgBD,kBAAkB,CAACC,IAAD,CAAlC;AACH;AACJ,GAJ2B;AAAA,CAA5B;;IAKqBK,gB;;;;;AACjB,4BAAYC,OAAZ,EAAqBR,OAArB,EAA8B;AAAA;;AAAA;;AAC1B,8BAAMQ,OAAN,EAAeR,OAAf;AACA,UAAKS,wBAAL,GAAgC,KAAhC;;AACA,UAAKC,sBAAL;;AAH0B;AAI7B;;;;SACD,eAAiB;AACb,aAAO;AACHC,QAAAA,SAAS,EAAE,EADR;AAEHC,QAAAA,MAAM,EAAE,EAFL;AAGHC,QAAAA,QAAQ,EAAE,EAHP;AAIHC,QAAAA,SAAS,EAAE,EAJR;AAKHC,QAAAA,KAAK,EAAE;AALJ,OAAP;AAOH;;;WACD,kCAAyB;AACrB,UAAIC,iBAAiB,GAAG,KAAKC,oBAAL,EAAxB;AACA,UAAIC,8BAA8B,GAAGF,iBAAiB,CAACG,MAAlB,GAA2B,CAAhE;AACA,UAAIC,yBAAyB,GAAG,eAAe,OAAO,KAAKC,cAAL,CAAoBjB,SAApB,CAA8BkB,OAApF;;AACA,UAAIJ,8BAA8B,IAAI,CAACE,yBAAvC,EAAkE;AAC9D,cAAMG,KAAK,CAAC,qDAAD,CAAX;AACH;AACJ;;;SACD,eAAc;AACV,UAAIC,cAAJ;;AACA,aAAO,UAAUA,cAAc,GAAG,KAAKC,QAAhC,KAA6C,KAAK,CAAL,KAAWD,cAAxD,GAAyE,KAAK,CAA9E,GAAkFA,cAAc,CAACE,OAAxG;AACH;;;WACD,kCAAyBC,QAAzB,EAAmC;AAC/B,UAAIC,mBAAmB,GAAG,KAAKC,uBAAL,GAA+BC,MAA/B,CAAsC,UAAC9B,OAAD,EAAUE,IAAV,EAAmB;AAC/EF,QAAAA,OAAO,CAACE,IAAD,CAAP,GAAgB,IAAhB;AACA,eAAOF,OAAP;AACH,OAHyB,EAGvB,EAHuB,CAA1B;;AAIA,WAAK+B,wBAAL,GAAgC,UAAAC,UAAU;AAAA,eAAI,CAAC,CAACJ,mBAAmB,CAACI,UAAD,CAAzB;AAAA,OAA1C;;AACA,aAAO,KAAKD,wBAAL,CAA8BJ,QAA9B,CAAP;AACH;;;WACD,mCAA0B;AACtB,aAAO,CAAC,YAAD,CAAP;AACH;;;WACD,6BAAoB;AAChB,WAAKM,WAAL,CAAiBC,cAAjB,CAAgC,EAAhC;AACH;;;WACD,8BAAqB;AAAA;;AACjB,aAAO1C,MAAM,CAAC,IAAD,4FAAmC,KAAK6B,cAAL,CAAoBc,YAAvD,EAAqE,KAAKC,UAAL,CAAgBxB,MAAhB,CAAuBkB,MAAvB,CAA8B,UAAC9B,OAAD,EAAUqC,IAAV,EAAmB;AAAA;;AAC/H,mCAAqCA,IAArC;AAAA,YAAKnC,IAAL;AAAA,YAAWoC,WAAX;AAAA,YAAwBC,SAAxB;;AACA,eAAOtD,QAAQ,CAAC,EAAD,EAAKe,OAAL,8CACVE,IADU,EACH,MAAI,CAACmB,cAAL,CAAoBc,YAApB,CAAiCG,WAAjC,CADG,8BAEVC,SAFU,EAEE,UAAAC,KAAK;AAAA,iBAAI,MAAI,CAACC,MAAL,CAAYvC,IAAZ,EAAkBsC,KAAlB,CAAJ;AAAA,SAFP,cAAf;AAIH,OANiF,EAM/E,EAN+E,CAArE,EAML,KAAKJ,UAAL,CAAgBtB,SAAhB,CAA0BgB,MAA1B,CAAiC,UAAC9B,OAAD,EAAUE,IAAV;AAAA,eAAmBjB,QAAQ,CAAC,EAAD,EAAKe,OAAL,sBAC/DE,IAD+D,EACxD,IADwD,EAA3B;AAAA,OAAjC,EAEJ,EAFI,CANK,CAAb;AASH;;;WACD,uBAAc;AACV,UAAIa,KAAK,GAAG,KAAK2B,QAAL,EAAZ;;AACA,WAAKC,cAAL,CAAoB5B,KAApB;AACH;;;WACD,wBAAeA,KAAf,EAAsB;AAClB,UAAI6B,aAAa,GAAG,KAAKC,QAAL,GAAgB,CAAhB,CAApB;;AACA,UAAI,CAAC,KAAKC,eAAV,EAA2B;AACvB1D,QAAAA,QAAQ,CAAC2D,WAAT;AACH;;AACD3D,MAAAA,QAAQ,CAAC4D,MAAT,CAAgB,KAAK3B,cAArB,EAAqCN,KAArC,EAA4C6B,aAA5C,EAA2D,KAAKE,eAAhE;;AACA,UAAI,CAAC,KAAKA,eAAV,EAA2B;AACvB,aAAKA,eAAL,GAAuB,IAAvB;AACA1D,QAAAA,QAAQ,CAAC6D,aAAT;AACA,aAAKxC,wBAAL,GAAgC,IAAhC;AACH;;AACD,UAAI,KAAKA,wBAAT,EAAmC;AAC/B,aAAKyC,iBAAL;;AACA,aAAKzC,wBAAL,GAAgC,KAAhC;AACH;AACJ;;;WACD,iBAAQP,IAAR,EAAcsC,KAAd,EAAqB;AACjB,WAAKW,QAAL,CAAcC,MAAd,CAAqBlD,IAArB,EAA2BsC,KAA3B;AACH;;;WACD,mBAAU,CAAE;;;WACZ,yBAAgB;AACZpD,MAAAA,QAAQ,CAACiE,MAAT,CAAgB,KAAKR,QAAL,GAAgB,CAAhB,CAAhB;AACH;;;WACD,oBAAW;AACP,WAAKS,aAAL;;AACA;AACH;;;SACD,eAAkB;AAAA;;AACd,UAAI,CAAC,KAAKC,YAAV,EAAwB;AACpB,YACgBC,UADhB,GAEI,KAAKX,QAAL,GAAgB,CAAhB,CAFJ,CACIW,UADJ;AAGA,YAAIC,KAAK,GAAGC,KAAK,CAACC,IAAN,CAAWH,UAAX,EAAuBI,MAAvB,CAA8B,UAAAC,IAAI,EAAI;AAC9C,cAAIC,qBAAJ;;AACA,iBAAO,CAAC,MAAI,CAAC1B,UAAL,CAAgBtB,SAAhB,CAA0BiD,QAA1B,CAAmCF,IAAI,CAAC3D,IAAxC,CAAD,KAAmD,UAAU4D,qBAAqB,GAAGN,UAAU,CAACK,IAAI,CAAC3D,IAAN,CAA5C,KAA4D,KAAK,CAAL,KAAW4D,qBAAvE,GAA+F,KAAK,CAApG,GAAwGA,qBAAqB,CAACE,SAAjL,CAAP;AACH,SAHW,EAGTlC,MAHS,CAGF,UAACmC,MAAD,EAASC,KAAT,EAAmB;AACzB,cACUhE,IADV,GAGIgE,KAHJ,CACIhE,IADJ;AAAA,cAEWsC,KAFX,GAGI0B,KAHJ,CAEI1B,KAFJ;AAIA,cAAI2B,iBAAiB,GAAGF,MAAxB;AACAE,UAAAA,iBAAiB,CAACjE,IAAD,CAAjB,GAA0BsC,KAA1B;AACA,iBAAO2B,iBAAP;AACH,SAXW,EAWT,EAXS,CAAZ;AAYA,aAAKZ,YAAL,GAAoBE,KAApB;AACA,aAAKW,cAAL,GAAsB,KAAKvB,QAAL,GAAgB,CAAhB,EAAmBwB,YAAnB,CAAgC,OAAhC,KAA4C,EAAlE;AACH;;AACD,UAAIC,SAAS,GAAG,KAAKzB,QAAL,GAAgB,CAAhB,EAAmB0B,KAAnC;AACA,UAAIA,KAAK,GAAG,EAAZ;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,SAAS,CAACnD,MAA9B,EAAsCqD,CAAC,IAAI,CAA3C,EAA8C;AAC1CD,QAAAA,KAAK,CAACD,SAAS,CAACE,CAAD,CAAV,CAAL,GAAsBF,SAAS,CAACG,gBAAV,CAA2BH,SAAS,CAACE,CAAD,CAApC,CAAtB;AACH;;AACD,WAAKjB,YAAL,CAAkBgB,KAAlB,GAA0BA,KAA1B;AACA,WAAKhB,YAAL,CAAkBmB,KAAlB,GAA0B,KAAKN,cAA/B;AACA,aAAO,KAAKb,YAAZ;AACH;;;WACD,uCAA8B;AAC1B,aAAO;AACHrB,QAAAA,cAAc,EAAE;AACZyC,UAAAA,iBAAiB,EAAE,CAAC,UAAD,EAAa,UAAb;AADP;AADb,OAAP;AAKH;;;WACD,+BAAsB;AAClB,aAAO,EAAP;AACH;;;WACD,4BAAmB3E,OAAnB,EAA4B;AAAA;;AACxB,6BAKI,KAAKoC,UALT;AAAA,UACezB,SADf,oBACIA,SADJ;AAAA,UAEcE,QAFd,oBAEIA,QAFJ;AAAA,UAGWE,KAHX,oBAGIA,KAHJ;AAAA,UAIYH,MAJZ,oBAIIA,MAJJ;AAMA,UACkBuB,YADlB,GAEI,KAAKd,cAFT,CACIc,YADJ;AAGA,UACcyC,QADd,GAII5E,OAJJ,CACI4E,QADJ;AAAA,UAEuBC,iBAFvB,GAII7E,OAJJ,CAEI6E,iBAFJ;AAAA,UAGSC,GAHT,GAII9E,OAJJ,CAGI8E,GAHJ;AAKA,UAAIC,SAAS,GAAGF,iBAAiB,GAAG,UAACG,CAAD,EAAIC,aAAJ,EAAsB;AACtDJ,QAAAA,iBAAiB,CAACI,aAAD,CAAjB;AACH,OAFgC,GAE7B,KAAK,CAFT;AAGA,UAAIC,WAAW,GAAG;AACdJ,QAAAA,GAAG,EAAEA,GADS;AAEdF,QAAAA,QAAQ,EAAEA,QAFI;AAGdG,QAAAA,SAAS,EAAEA;AAHG,OAAlB;AAKA,mCAAIhE,KAAJ,sBAAc,KAAKoE,mBAAL,EAAd,GAA0CC,OAA1C,CAAkD,UAAAC,QAAQ,EAAI;AAC1D,YAAIlF,MAAM,CAACC,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCN,OAArC,EAA8CqF,QAA9C,CAAJ,EAA6D;AACzDH,UAAAA,WAAW,CAACG,QAAD,CAAX,GAAwBrF,OAAO,CAACqF,QAAD,CAA/B;AACH;AACJ,OAJD;AAKA1E,MAAAA,SAAS,CAACyE,OAAV,CAAkBrF,qBAAqB,CAACmF,WAAD,EAAc;AAAA,eAAM,IAAN;AAAA,OAAd,CAAvC;AACA/E,MAAAA,MAAM,CAACmF,IAAP,CAAYnD,YAAZ,EAA0BiD,OAA1B,CAAkCrF,qBAAqB,CAACmF,WAAD,EAAc,UAAAhF,IAAI;AAAA,eAAIiC,YAAY,CAACjC,IAAD,CAAhB;AAAA,OAAlB,CAAvD;AACAU,MAAAA,MAAM,CAACwE,OAAP,CAAe,UAAAG,KAAK,EAAI;AACpB,mCAA0BA,KAA1B;AAAA,YAAKrF,IAAL;AAAA,YAAWoC,WAAX;;AACAvC,QAAAA,qBAAqB,CAACmF,WAAD,EAAc;AAAA,iBAAM/C,YAAY,CAACG,WAAD,CAAlB;AAAA,SAAd,CAArB,CAAoEpC,IAApE;AACH,OAHD;AAIAW,MAAAA,QAAQ,CAACuE,OAAT,CAAiB,UAAAlF,IAAI,EAAI;AACrB,YAAIA,IAAI,IAAIgF,WAAZ,EAAyB;AACrB,cAAI1C,KAAK,GAAG0C,WAAW,CAAChF,IAAD,CAAvB;;AACA,cAAIP,UAAU,CAAC6C,KAAD,CAAd,EAAuB;AACnB0C,YAAAA,WAAW,CAAChF,IAAD,CAAX,GAAoB,MAAI,CAACsF,kBAAL,CAAwBhD,KAAxB,CAApB;AACH;AACJ;AACJ,OAPD;AAQA,aAAO0C,WAAP;AACH;;;WACD,gCAAuB;AACnB,aAAO,EAAP;AACH;;;WACD,0BAAiBnE,KAAjB,EAAwB;AACpB,UAAI,aAAa,OAAOA,KAAK,CAACwD,KAA9B,EAAqC;AACjC,eAAOtF,QAAQ,CAAC,EAAD,EAAK8B,KAAL,EAAY;AACvBwD,UAAAA,KAAK,EAAE,EADgB;AAEvBkB,UAAAA,OAAO,EAAE1E,KAAK,CAACwD;AAFQ,SAAZ,CAAf;AAIH;;AACD,aAAOxD,KAAP;AACH;;;WACD,oBAAW;AAAA;;AACP,UAAI2E,qBAAJ,EAA2BC,kBAA3B;;AACA,yBAEI,KAAKlD,MAAL,EAFJ;AAAA,UACiBmD,WADjB,gBACIA,WADJ;;AAGA,UAAI5F,OAAO,GAAG,KAAK6F,kBAAL,CAAwB5G,QAAQ,CAAC,EAAD,EAAK,KAAK6G,MAAV,EAAkB;AAC5DhB,QAAAA,GAAG,EAAE,KAAKrD,QADkD;AAE5DmD,QAAAA,QAAQ,EAAE,KAAKmB,mBAAL,EAFkD;AAG5DC,QAAAA,IAAI,EAAE,KAAKC;AAHiD,OAAlB,CAAhC,CAAd;;AAKA,WAAK7D,UAAL,CAAgBtB,SAAhB,CAA0BsE,OAA1B,CAAkC,UAAAc,QAAQ,EAAI;AAC1ClG,QAAAA,OAAO,CAACkG,QAAD,CAAP,GAAoB,MAAI,CAACC,mBAAL,CAAyBD,QAAzB,CAApB;AACH,OAFD;;AAGA,aAAO,KAAKE,gBAAL,CAAsBnH,QAAQ,CAAC,EAAD,EAAKe,OAAL,EAAc,KAAK4F,WAAnB,EAAgCA,WAAhC,EAA6C;AAC9ES,QAAAA,SAAS,EAAE,6BAAI,CAAC,UAAUX,qBAAqB,GAAG,KAAKE,WAAL,CAAiBlB,KAAnD,KAA6D,KAAK,CAAL,KAAWgB,qBAAxE,GAAgGA,qBAAhG,GAAwH,EAAzH,EAA6HY,KAA7H,CAAmI,GAAnI,CAAJ,sBAAgJ,CAAC,UAAUX,kBAAkB,GAAG,SAASC,WAAT,IAAwB,KAAK,CAAL,KAAWA,WAAnC,GAAiD,KAAK,CAAtD,GAA0DA,WAAW,CAAClB,KAArG,KAA+G,KAAK,CAAL,KAAWiB,kBAA1H,GAA+IA,kBAA/I,GAAoK,EAArK,EAAyKW,KAAzK,CAA+K,GAA/K,CAAhJ,GAAqU1C,MAArU,CAA4U,UAAC2C,CAAD,EAAI/B,CAAJ,EAAOgC,CAAP;AAAA,iBAAaD,CAAC,IAAIC,CAAC,CAACC,OAAF,CAAUF,CAAV,MAAiB/B,CAAnC;AAAA,SAA5U,EAAkXkC,IAAlX,CAAuX,GAAvX,EAA4XC,IAA5X,EADmE;AAE9EjC,QAAAA,KAAK,EAAE;AAFuE,OAA7C,EAGlC,KAAKzC,WAH6B,CAA9B,CAAP;AAIH;;;WACD,6BAAoB;AAChB,aAAO,EAAP;AACH;;;WACD,iCAAwB;AACpB,aAAOhD,QAAQ,CAAC,EAAD,EAAK,KAAK2H,iBAAL,EAAL,EAA+B,KAAKC,2BAAL,EAA/B,CAAf;AACH;;;WACD,+BAAsB;AAClB,UAAIC,gBAAgB,GAAG3G,MAAM,CAAC4G,MAAP,CAAc,KAAKC,cAAnB,CAAvB;AACA,UAAI/C,MAAM,GAAG,EAAb;AACA6C,MAAAA,gBAAgB,CAAC1B,OAAjB,CAAyB,UAAAc,QAAQ,EAAI;AACjCjC,QAAAA,MAAM,CAACiC,QAAD,CAAN,GAAmB,6BAAnB;AACH,OAFD;AAGA,aAAOjC,MAAP;AACH;;;SACD,eAAqB;AACjB,aAAO,EAAP;AACH;;;WACD,sCAA6BjE,OAA7B,EAAsC;AAClC,UAAIiH,eAAe,GAAG9G,MAAM,CAAC+G,OAAP,CAAe,KAAKF,cAApB,EAAoClF,MAApC,CAA2C,UAACmC,MAAD,EAASkD,KAAT,EAAmB;AAChF,YAAIC,qBAAJ;;AACA,mCAAoCD,KAApC;AAAA,YAAKE,YAAL;AAAA,YAAmBC,aAAnB;;AACA,eAAOrI,QAAQ,CAAC,EAAD,EAAKgF,MAAL,sBACVoD,YADU,EACK,UAAUD,qBAAqB,GAAGpH,OAAO,CAACqH,YAAD,CAAzC,KAA4D,KAAK,CAAL,KAAWD,qBAAvE,GAA+FA,qBAA/F,GAAuHE,aAD5H,EAAf;AAGH,OANqB,EAMnB,EANmB,CAAtB;AAOA,aAAOrI,QAAQ,CAAC,EAAD,EAAKe,OAAL,EAAciH,eAAd,CAAf;AACH;;;WACD,iBAAQ;AAAA;;AACJ,UAAIM,qBAAJ;;AACA;;AACA,WAAKC,iBAAL,GAAyB,EAAzB;AACA,gBAAUD,qBAAqB,GAAG,KAAKE,gBAAvC,KAA4D,KAAK,CAAL,KAAWF,qBAAvE,GAA+F,KAAK,CAApG,GAAwGA,qBAAqB,CAACG,mBAAtB,CAA0C,KAAKC,mBAAL,EAA1C,CAAxG;AACA,WAAK7B,MAAL,GAAc,KAAK8B,4BAAL,CAAkC,KAAKnF,MAAL,EAAlC,CAAd;AACA,WAAKR,WAAL,GAAmB,EAAnB;AACA,WAAKgE,KAAL,GAAa,EAAb;AACA,WAAKE,mBAAL,GAA2B,EAA3B;;AACA,WAAK/D,UAAL,CAAgBtB,SAAhB,CAA0BsE,OAA1B,CAAkC,UAAAc,QAAQ,EAAI;AAC1C,QAAA,MAAI,CAACC,mBAAL,CAAyBD,QAAzB,IAAqC,MAAI,CAAC2B,wBAAL,CAA8B,MAAI,CAAC/B,MAAL,CAAYI,QAAZ,CAA9B,CAArC;AACH,OAFD;;AAGA/F,MAAAA,MAAM,CAACmF,IAAP,CAAY,KAAKwC,qBAAL,EAAZ,EAA0C1C,OAA1C,CAAkD,UAAAlF,IAAI;AAAA,eAAI,MAAI,CAAC6H,UAAL,CAAgB7H,IAAhB,CAAJ;AAAA,OAAtD;AACA,WAAKuB,QAAL,GAAgBvC,SAAS,EAAzB;AACA,WAAK8I,kBAAL,GAA0B,KAAKC,yBAAL,EAA1B;AACH;;;WACD,qCAA4B;AAAA;;AACxB,UAAIhE,MAAM,GAAG,EAAb;AACA,UAAIqB,IAAI,GAAG,KAAKrE,oBAAL,EAAX;AACAqE,MAAAA,IAAI,CAACF,OAAL,CAAa,UAAA8C,GAAG,EAAI;AAChBjE,QAAAA,MAAM,CAACiE,GAAD,CAAN,GAAc,UAAAC,CAAC;AAAA,iBAAI,MAAI,CAACC,OAAL,CAAa9G,OAAb,CAAqBnC,iBAAiB,CAACkJ,oBAAlB,CAAuCF,CAAvC,CAArB,CAAJ;AAAA,SAAf;AACH,OAFD;AAGA,aAAOlE,MAAP;AACH;;;WACD,oBAAWqE,KAAX,EAAkBC,WAAlB,EAA+B;AAC3B,UAAIC,MAAM,GAAGD,WAAb;;AACA,UAAI,CAACC,MAAL,EAAa;AACT,YAAIC,cAAc,GAAG,KAAKC,qBAAL,CAA2BJ,KAA3B,EAAkC,KAAKR,qBAAL,GAA6BQ,KAA7B,CAAlC,CAArB;;AACAE,QAAAA,MAAM,GAAG,gBAAAG,OAAO,EAAI;AAChBxI,UAAAA,MAAM,CAACmF,IAAP,CAAYqD,OAAZ,EAAqBvD,OAArB,CAA6B,UAAAlF,IAAI,EAAI;AACjC,gBAAIR,SAAS,CAACiJ,OAAO,CAACzI,IAAD,CAAR,CAAT,IAA4BZ,UAAU,CAACsJ,MAAX,CAAkBD,OAAO,CAACzI,IAAD,CAAzB,CAAhC,EAAkE;AAC9DyI,cAAAA,OAAO,CAACzI,IAAD,CAAP,GAAgBT,gBAAgB,CAACJ,CAAC,CAACsJ,OAAO,CAACzI,IAAD,CAAR,CAAF,CAAhC;AACH;AACJ,WAJD;AAKA,iBAAOuI,cAAc,CAACE,OAAD,CAArB;AACH,SAPD;AAQH;;AACD,WAAK1G,WAAL,CAAiBqG,KAAjB,IAA0BE,MAA1B;AACH;;;WACD,wBAAe/F,MAAf,EAAuB;AACnB,UACcd,QADd,GAIIc,MAJJ,CACId,QADJ;AAAA,UAEUzB,IAFV,GAIIuC,MAJJ,CAEIvC,IAFJ;AAAA,UAGWsC,KAHX,GAIIC,MAJJ,CAGID,KAHJ;AAKA1C,MAAAA,oBAAoB,CAAC,KAAKgG,MAAN,EAAc,KAAKrD,MAAL,EAAd,EAA6BvC,IAA7B,EAAmCyB,QAAnC,CAApB;;AACA,UAAI,KAAKS,UAAL,CAAgBtB,SAAhB,CAA0BiD,QAA1B,CAAmC7D,IAAnC,CAAJ,EAA8C;AAC1C,aAAKiG,mBAAL,CAAyBjG,IAAzB,IAAiC,KAAK2H,wBAAL,CAA8BrF,KAA9B,CAAjC;AACH;;AACD,UAAItC,IAAI,IAAI,KAAK4H,qBAAL,GAA6B5H,IAA7B,CAAZ,EAAgD;AAC5C,aAAK6H,UAAL,CAAgB7H,IAAhB;AACH;;AACD,WAAKO,wBAAL,GAAgC,KAAKA,wBAAL,IAAiC,KAAKsB,wBAAL,CAA8BJ,QAA9B,CAAjE;;AACA,2FAAqBc,MAArB;;AACA,WAAKoG,WAAL;AACH;;;WACD,+BAAsB;AAClB,UAAI,KAAKpG,MAAL,CAAY,8BAAZ,CAAJ,EAAiD;AAC7C,eAAOrD,QAAQ,CAAC0J,aAAT,CAAuBjJ,eAAvB,EAAwC;AAC3CqG,UAAAA,QAAQ,EAAE,KAAK6C,YAAL,CAAkB,KAAKtB,gBAAL,CAAsBuB,qBAAxC,CADiC;AAE3CC,UAAAA,UAAU,EAAE;AAF+B,SAAxC,CAAP;AAIH;;AACD,aAAO,IAAP;AACH;;;WACD,kCAAyBC,cAAzB,EAAyC;AACrC,UAAI,CAACA,cAAL,EAAqB;AACjB;AACH;;AACD,UAAIhD,QAAQ,GAAG,KAAK6C,YAAL,CAAkBG,cAAlB,CAAf;;AACA,UAAItJ,QAAQ,CAACsG,QAAD,CAAR,IAAsB,kCAAkCA,QAA5D,EAAsE;AAClE;AACH;;AACD,aAAO,UAAAiD,KAAK;AAAA,eAAI/J,QAAQ,CAAC0J,aAAT,CAAuBjJ,eAAvB,EAAwC;AACpDqG,UAAAA,QAAQ,EAAEA,QAD0C;AAEpDiD,UAAAA,KAAK,EAAEA;AAF6C,SAAxC,CAAJ;AAAA,OAAZ;AAIH;;;WACD,6BAAoBC,cAApB,EAAoC;AAAA;;AAChC,aAAO,UAAApJ,OAAO,EAAI;AACd,YACaqJ,OADb,GAIIrJ,OAJJ,CACIqJ,OADJ;AAAA,YAEmBC,aAFnB,GAIItJ,OAJJ,CAEIsJ,aAFJ;AAAA,YAGWC,KAHX,GAIIvJ,OAJJ,CAGIuJ,KAHJ;AAKA,YAAIjE,IAAI,GAAG,MAAI,CAACkC,iBAAhB;AACA,YAAIgC,IAAI,GAAGlE,IAAI,CAAC+D,OAAD,CAAJ,IAAiB/D,IAAI,CAACiE,KAAD,CAAhC;;AACA,YAAI,KAAK,CAAL,KAAWC,IAAf,EAAqB;AACjB,cAAIC,OAAO,GAAGD,IAAI,CAACE,IAAL,CAAU,MAAV,CAAd;AACA,cAAIzF,MAAM,GAAGwF,OAAO,CAACH,aAAD,EAAgBtJ,OAAhB,CAApB;;AACA,cAAI,CAACiE,MAAL,EAAa;AACTqF,YAAAA,aAAa,CAACK,MAAd,GAAuB,IAAvB;AACA,mBAAOL,aAAP;AACH;AACJ;;AACD,eAAO,SAASF,cAAT,IAA2B,KAAK,CAAL,KAAWA,cAAtC,GAAuD,KAAK,CAA5D,GAAgEA,cAAc,CAACE,aAAD,EAAgBtJ,OAAhB,CAArF;AACH,OAjBD;AAkBH;;;WACD,0BAAiBQ,OAAjB,EAA0B;AACtB,aAAOf,gBAAgB,CAACJ,CAAC,CAACmB,OAAD,CAAF,CAAvB;AACH;;;WACD,4BAAmBgC,KAAnB,EAA0B;AACtB,UAAI;AACA,YAAIyB,MAAM,GAAG5E,CAAC,CAACmD,KAAD,CAAd;AACA,YAAIhC,OAAO,GAAG,SAASyD,MAAT,IAAmB,KAAK,CAAL,KAAWA,MAA9B,GAAuC,KAAK,CAA5C,GAAgDA,MAAM,CAAC2F,GAAP,CAAW,CAAX,CAA9D;AACA,eAAO,SAASpJ,OAAT,IAAoB,KAAK,CAAL,KAAWA,OAA/B,IAA0CA,OAAO,CAACqJ,QAAlD,GAA6DrJ,OAA7D,GAAuEgC,KAA9E;AACH,OAJD,CAIE,OAAOsH,KAAP,EAAc;AACZ,eAAOtH,KAAP;AACH;AACJ;;;WACD,mBAAU;AACN,WAAKM,eAAL,GAAuB,KAAvB;AACA,WAAKrC,wBAAL,GAAgC,IAAhC;;AACA,WAAK6C,aAAL;;AACA,WAAKyG,QAAL;AACH;;;WACD,0BAAiB;AACb,aAAO9K,QAAQ,CAAC,EAAD,EAAK,KAAK+I,kBAAV,EAA8B,KAAKR,iBAAnC,CAAf;AACH;;;WACD,4BAAmBU,GAAnB,EAAwBuB,OAAxB,EAAiC;AAC7B,WAAKjC,iBAAL,CAAuBU,GAAvB,IAA8BuB,OAA9B;AACH;;;WACD,iBAAQvJ,IAAR,EAAcsC,KAAd,EAAqB;AACjB,WAAKyD,KAAL,CAAW/F,IAAX,IAAmBsC,KAAnB;;AACA,WAAKwH,WAAL;AACH;;;;EA5VyCzK,Y;;SAAzBgB,gB;AA8VrBA,gBAAgB,CAAC0J,mBAAjB,GAAuC,KAAvC;AACA1J,gBAAgB,CAAC0J,mBAAjB,GAAuC,IAAvC","sourcesContent":["/**\r\n * DevExtreme (esm/renovation/component_wrapper/common/component.js)\r\n * Version: 21.2.5\r\n * Build date: Mon Jan 17 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport {\r\n    createRef\r\n} from \"inferno\";\r\nimport KeyboardProcessor from \"../../../events/core/keyboard_processor\";\r\nimport renderer from \"../../../core/inferno_renderer\";\r\nimport $ from \"../../../core/renderer\";\r\nimport domAdapter from \"../../../core/dom_adapter\";\r\nimport DOMComponent from \"../../../core/dom_component\";\r\nimport {\r\n    extend\r\n} from \"../../../core/utils/extend\";\r\nimport {\r\n    getPublicElement\r\n} from \"../../../core/element\";\r\nimport {\r\n    isDefined,\r\n    isRenderer,\r\n    isString\r\n} from \"../../../core/utils/type\";\r\nimport {\r\n    TemplateWrapper\r\n} from \"./template_wrapper\";\r\nimport {\r\n    updatePropsImmutable\r\n} from \"../utils/update_props_immutable\";\r\nvar setDefaultOptionValue = (options, defaultValueGetter) => name => {\r\n    if (Object.prototype.hasOwnProperty.call(options, name) && void 0 === options[name]) {\r\n        options[name] = defaultValueGetter(name)\r\n    }\r\n};\r\nexport default class ComponentWrapper extends DOMComponent {\r\n    constructor(element, options) {\r\n        super(element, options);\r\n        this._shouldRaiseContentReady = false;\r\n        this.validateKeyDownHandler()\r\n    }\r\n    get _propsInfo() {\r\n        return {\r\n            allowNull: [],\r\n            twoWay: [],\r\n            elements: [],\r\n            templates: [],\r\n            props: []\r\n        }\r\n    }\r\n    validateKeyDownHandler() {\r\n        var supportedKeyNames = this.getSupportedKeyNames();\r\n        var hasComponentDefaultKeyHandlers = supportedKeyNames.length > 0;\r\n        var hasComponentKeyDownMethod = \"function\" === typeof this._viewComponent.prototype.keyDown;\r\n        if (hasComponentDefaultKeyHandlers && !hasComponentKeyDownMethod) {\r\n            throw Error(\"Component's declaration must have 'keyDown' method.\")\r\n        }\r\n    }\r\n    get viewRef() {\r\n        var _this$_viewRef;\r\n        return null === (_this$_viewRef = this._viewRef) || void 0 === _this$_viewRef ? void 0 : _this$_viewRef.current\r\n    }\r\n    _checkContentReadyOption(fullName) {\r\n        var contentReadyOptions = this._getContentReadyOptions().reduce((options, name) => {\r\n            options[name] = true;\r\n            return options\r\n        }, {});\r\n        this._checkContentReadyOption = optionName => !!contentReadyOptions[optionName];\r\n        return this._checkContentReadyOption(fullName)\r\n    }\r\n    _getContentReadyOptions() {\r\n        return [\"rtlEnabled\"]\r\n    }\r\n    _fireContentReady() {\r\n        this._actionsMap.onContentReady({})\r\n    }\r\n    _getDefaultOptions() {\r\n        return extend(true, super._getDefaultOptions(), this._viewComponent.defaultProps, this._propsInfo.twoWay.reduce((options, _ref) => {\r\n            var [name, defaultName, eventName] = _ref;\r\n            return _extends({}, options, {\r\n                [name]: this._viewComponent.defaultProps[defaultName],\r\n                [eventName]: value => this.option(name, value)\r\n            })\r\n        }, {}), this._propsInfo.templates.reduce((options, name) => _extends({}, options, {\r\n            [name]: null\r\n        }), {}))\r\n    }\r\n    _initMarkup() {\r\n        var props = this.getProps();\r\n        this._renderWrapper(props)\r\n    }\r\n    _renderWrapper(props) {\r\n        var containerNode = this.$element()[0];\r\n        if (!this._isNodeReplaced) {\r\n            renderer.onPreRender()\r\n        }\r\n        renderer.render(this._viewComponent, props, containerNode, this._isNodeReplaced);\r\n        if (!this._isNodeReplaced) {\r\n            this._isNodeReplaced = true;\r\n            renderer.onAfterRender();\r\n            this._shouldRaiseContentReady = true\r\n        }\r\n        if (this._shouldRaiseContentReady) {\r\n            this._fireContentReady();\r\n            this._shouldRaiseContentReady = false\r\n        }\r\n    }\r\n    _silent(name, value) {\r\n        this._options.silent(name, value)\r\n    }\r\n    _render() {}\r\n    _removeWidget() {\r\n        renderer.remove(this.$element()[0])\r\n    }\r\n    _dispose() {\r\n        this._removeWidget();\r\n        super._dispose()\r\n    }\r\n    get elementAttr() {\r\n        if (!this._elementAttr) {\r\n            var {\r\n                attributes: attributes\r\n            } = this.$element()[0];\r\n            var attrs = Array.from(attributes).filter(attr => {\r\n                var _attributes$attr$name;\r\n                return !this._propsInfo.templates.includes(attr.name) && (null === (_attributes$attr$name = attributes[attr.name]) || void 0 === _attributes$attr$name ? void 0 : _attributes$attr$name.specified)\r\n            }).reduce((result, _ref2) => {\r\n                var {\r\n                    name: name,\r\n                    value: value\r\n                } = _ref2;\r\n                var updatedAttributes = result;\r\n                updatedAttributes[name] = value;\r\n                return updatedAttributes\r\n            }, {});\r\n            this._elementAttr = attrs;\r\n            this._storedClasses = this.$element()[0].getAttribute(\"class\") || \"\"\r\n        }\r\n        var elemStyle = this.$element()[0].style;\r\n        var style = {};\r\n        for (var i = 0; i < elemStyle.length; i += 1) {\r\n            style[elemStyle[i]] = elemStyle.getPropertyValue(elemStyle[i])\r\n        }\r\n        this._elementAttr.style = style;\r\n        this._elementAttr.class = this._storedClasses;\r\n        return this._elementAttr\r\n    }\r\n    _getAdditionalActionConfigs() {\r\n        return {\r\n            onContentReady: {\r\n                excludeValidators: [\"disabled\", \"readOnly\"]\r\n            }\r\n        }\r\n    }\r\n    _getAdditionalProps() {\r\n        return []\r\n    }\r\n    _patchOptionValues(options) {\r\n        var {\r\n            allowNull: allowNull,\r\n            elements: elements,\r\n            props: props,\r\n            twoWay: twoWay\r\n        } = this._propsInfo;\r\n        var {\r\n            defaultProps: defaultProps\r\n        } = this._viewComponent;\r\n        var {\r\n            children: children,\r\n            onKeyboardHandled: onKeyboardHandled,\r\n            ref: ref\r\n        } = options;\r\n        var onKeyDown = onKeyboardHandled ? (_, event_options) => {\r\n            onKeyboardHandled(event_options)\r\n        } : void 0;\r\n        var widgetProps = {\r\n            ref: ref,\r\n            children: children,\r\n            onKeyDown: onKeyDown\r\n        };\r\n        [...props, ...this._getAdditionalProps()].forEach(propName => {\r\n            if (Object.prototype.hasOwnProperty.call(options, propName)) {\r\n                widgetProps[propName] = options[propName]\r\n            }\r\n        });\r\n        allowNull.forEach(setDefaultOptionValue(widgetProps, () => null));\r\n        Object.keys(defaultProps).forEach(setDefaultOptionValue(widgetProps, name => defaultProps[name]));\r\n        twoWay.forEach(_ref3 => {\r\n            var [name, defaultName] = _ref3;\r\n            setDefaultOptionValue(widgetProps, () => defaultProps[defaultName])(name)\r\n        });\r\n        elements.forEach(name => {\r\n            if (name in widgetProps) {\r\n                var value = widgetProps[name];\r\n                if (isRenderer(value)) {\r\n                    widgetProps[name] = this._patchElementParam(value)\r\n                }\r\n            }\r\n        });\r\n        return widgetProps\r\n    }\r\n    getSupportedKeyNames() {\r\n        return []\r\n    }\r\n    prepareStyleProp(props) {\r\n        if (\"string\" === typeof props.style) {\r\n            return _extends({}, props, {\r\n                style: {},\r\n                cssText: props.style\r\n            })\r\n        }\r\n        return props\r\n    }\r\n    getProps() {\r\n        var _this$elementAttr$cla, _elementAttr$class;\r\n        var {\r\n            elementAttr: elementAttr\r\n        } = this.option();\r\n        var options = this._patchOptionValues(_extends({}, this._props, {\r\n            ref: this._viewRef,\r\n            children: this._extractDefaultSlot(),\r\n            aria: this._aria\r\n        }));\r\n        this._propsInfo.templates.forEach(template => {\r\n            options[template] = this._componentTemplates[template]\r\n        });\r\n        return this.prepareStyleProp(_extends({}, options, this.elementAttr, elementAttr, {\r\n            className: [...(null !== (_this$elementAttr$cla = this.elementAttr.class) && void 0 !== _this$elementAttr$cla ? _this$elementAttr$cla : \"\").split(\" \"), ...(null !== (_elementAttr$class = null === elementAttr || void 0 === elementAttr ? void 0 : elementAttr.class) && void 0 !== _elementAttr$class ? _elementAttr$class : \"\").split(\" \")].filter((c, i, a) => c && a.indexOf(c) === i).join(\" \").trim(),\r\n            class: \"\"\r\n        }, this._actionsMap))\r\n    }\r\n    _getActionConfigs() {\r\n        return {}\r\n    }\r\n    _getActionConfigsFull() {\r\n        return _extends({}, this._getActionConfigs(), this._getAdditionalActionConfigs())\r\n    }\r\n    getDefaultTemplates() {\r\n        var defaultTemplates = Object.values(this._templatesInfo);\r\n        var result = {};\r\n        defaultTemplates.forEach(template => {\r\n            result[template] = \"dx-renovation-template-mock\"\r\n        });\r\n        return result\r\n    }\r\n    get _templatesInfo() {\r\n        return {}\r\n    }\r\n    _optionsWithDefaultTemplates(options) {\r\n        var templateOptions = Object.entries(this._templatesInfo).reduce((result, _ref4) => {\r\n            var _options$templateName;\r\n            var [templateName, templateValue] = _ref4;\r\n            return _extends({}, result, {\r\n                [templateName]: null !== (_options$templateName = options[templateName]) && void 0 !== _options$templateName ? _options$templateName : templateValue\r\n            })\r\n        }, {});\r\n        return _extends({}, options, templateOptions)\r\n    }\r\n    _init() {\r\n        var _this$_templateManage;\r\n        super._init();\r\n        this.customKeyHandlers = {};\r\n        null === (_this$_templateManage = this._templateManager) || void 0 === _this$_templateManage ? void 0 : _this$_templateManage.addDefaultTemplates(this.getDefaultTemplates());\r\n        this._props = this._optionsWithDefaultTemplates(this.option());\r\n        this._actionsMap = {};\r\n        this._aria = {};\r\n        this._componentTemplates = {};\r\n        this._propsInfo.templates.forEach(template => {\r\n            this._componentTemplates[template] = this._createTemplateComponent(this._props[template])\r\n        });\r\n        Object.keys(this._getActionConfigsFull()).forEach(name => this._addAction(name));\r\n        this._viewRef = createRef();\r\n        this.defaultKeyHandlers = this._createDefaultKeyHandlers()\r\n    }\r\n    _createDefaultKeyHandlers() {\r\n        var result = {};\r\n        var keys = this.getSupportedKeyNames();\r\n        keys.forEach(key => {\r\n            result[key] = e => this.viewRef.keyDown(KeyboardProcessor.createKeyDownOptions(e))\r\n        });\r\n        return result\r\n    }\r\n    _addAction(event, actionToAdd) {\r\n        var action = actionToAdd;\r\n        if (!action) {\r\n            var actionByOption = this._createActionByOption(event, this._getActionConfigsFull()[event]);\r\n            action = actArgs => {\r\n                Object.keys(actArgs).forEach(name => {\r\n                    if (isDefined(actArgs[name]) && domAdapter.isNode(actArgs[name])) {\r\n                        actArgs[name] = getPublicElement($(actArgs[name]))\r\n                    }\r\n                });\r\n                return actionByOption(actArgs)\r\n            }\r\n        }\r\n        this._actionsMap[event] = action\r\n    }\r\n    _optionChanged(option) {\r\n        var {\r\n            fullName: fullName,\r\n            name: name,\r\n            value: value\r\n        } = option;\r\n        updatePropsImmutable(this._props, this.option(), name, fullName);\r\n        if (this._propsInfo.templates.includes(name)) {\r\n            this._componentTemplates[name] = this._createTemplateComponent(value)\r\n        }\r\n        if (name && this._getActionConfigsFull()[name]) {\r\n            this._addAction(name)\r\n        }\r\n        this._shouldRaiseContentReady = this._shouldRaiseContentReady || this._checkContentReadyOption(fullName);\r\n        super._optionChanged(option);\r\n        this._invalidate()\r\n    }\r\n    _extractDefaultSlot() {\r\n        if (this.option(\"_hasAnonymousTemplateContent\")) {\r\n            return renderer.createElement(TemplateWrapper, {\r\n                template: this._getTemplate(this._templateManager.anonymousTemplateName),\r\n                transclude: true\r\n            })\r\n        }\r\n        return null\r\n    }\r\n    _createTemplateComponent(templateOption) {\r\n        if (!templateOption) {\r\n            return\r\n        }\r\n        var template = this._getTemplate(templateOption);\r\n        if (isString(template) && \"dx-renovation-template-mock\" === template) {\r\n            return\r\n        }\r\n        return model => renderer.createElement(TemplateWrapper, {\r\n            template: template,\r\n            model: model\r\n        })\r\n    }\r\n    _wrapKeyDownHandler(initialHandler) {\r\n        return options => {\r\n            var {\r\n                keyName: keyName,\r\n                originalEvent: originalEvent,\r\n                which: which\r\n            } = options;\r\n            var keys = this.customKeyHandlers;\r\n            var func = keys[keyName] || keys[which];\r\n            if (void 0 !== func) {\r\n                var handler = func.bind(this);\r\n                var result = handler(originalEvent, options);\r\n                if (!result) {\r\n                    originalEvent.cancel = true;\r\n                    return originalEvent\r\n                }\r\n            }\r\n            return null === initialHandler || void 0 === initialHandler ? void 0 : initialHandler(originalEvent, options)\r\n        }\r\n    }\r\n    _toPublicElement(element) {\r\n        return getPublicElement($(element))\r\n    }\r\n    _patchElementParam(value) {\r\n        try {\r\n            var result = $(value);\r\n            var element = null === result || void 0 === result ? void 0 : result.get(0);\r\n            return null !== element && void 0 !== element && element.nodeType ? element : value\r\n        } catch (error) {\r\n            return value\r\n        }\r\n    }\r\n    repaint() {\r\n        this._isNodeReplaced = false;\r\n        this._shouldRaiseContentReady = true;\r\n        this._removeWidget();\r\n        this._refresh()\r\n    }\r\n    _supportedKeys() {\r\n        return _extends({}, this.defaultKeyHandlers, this.customKeyHandlers)\r\n    }\r\n    registerKeyHandler(key, handler) {\r\n        this.customKeyHandlers[key] = handler\r\n    }\r\n    setAria(name, value) {\r\n        this._aria[name] = value;\r\n        this._initMarkup()\r\n    }\r\n}\r\nComponentWrapper.IS_RENOVATED_WIDGET = false;\r\nComponentWrapper.IS_RENOVATED_WIDGET = true;\r\n"]},"metadata":{},"sourceType":"module"}