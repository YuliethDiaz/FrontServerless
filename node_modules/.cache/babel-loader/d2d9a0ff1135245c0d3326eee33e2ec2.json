{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Valen\\\\OneDrive\\\\Documentos\\\\Proyecto AWS\\\\FrontServerless\\\\src\\\\App.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment, useEffect } from 'react';\nimport GetComponent from './components/GetComponent';\nimport PostComponent from './components/PostComponent';\nimport { Route, Routes, Link, Outlet } from 'react-router-dom';\nimport useToken from \"./components/Hooks/useToken\";\nimport Layout from './components/Home/Layout';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  const urlSearchParams = new URLSearchParams(window.location.hash);\n  const params = Object.fromEntries(urlSearchParams.entries());\n  const API_URL = process.env.REACT_APP_SERVER_URL;\n  const LOGIN = process.env.REACT_APP_LOGIN_URL;\n  const {\n    Token,\n    setToken\n  } = useToken();\n\n  if (Token == null || Token == \"\") {\n    if (params[\"#id_token\"] != undefined) {\n      setToken(params[\"#id_token\"]);\n    }\n  }\n\n  useEffect(() => {\n    var TokenValue = Token.value ? Token.value : Token;\n    /*  axios.get(API_URL+'/decodetoken', {\r\n     params: {\r\n         encoded:'\"'+TokenValue+'\"'\r\n     }\r\n         }).then(response => { \r\n             var dataResult = JSON.parse(JSON.stringify(response.data));    \r\n           console.log(dataResult)  \r\n           if(dataResult.errorMessage !== undefined ){\r\n               if(dataResult.errorMessage){\r\n                 swal({  \r\n                     title:\"Error\",\r\n                     text:\"Not authorized\",\r\n                     icon: \"error\"\r\n                   }).then(() => {\r\n                     window.localStorage.clear();\r\n                     window.location.href = LOGIN; \r\n                     });\r\n                   }\r\n           }else{\r\n                 //entro\r\n             }\r\n                 \r\n         \r\n         })  */\n  }, [Token]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Routes, {\n      children: /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: /*#__PURE__*/_jsxDEV(Layout, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 32\n        }, this),\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/get\",\n          element: /*#__PURE__*/_jsxDEV(GetComponent, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 37\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/post\",\n          element: /*#__PURE__*/_jsxDEV(PostComponent, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 38\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"WQCuTVafBurn0+wL7o6XIXVZ1gw=\", false, function () {\n  return [useToken];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/Users/Valen/OneDrive/Documentos/Proyecto AWS/FrontServerless/src/App.jsx"],"names":["React","Fragment","useEffect","GetComponent","PostComponent","Route","Routes","Link","Outlet","useToken","Layout","App","urlSearchParams","URLSearchParams","window","location","hash","params","Object","fromEntries","entries","API_URL","process","env","REACT_APP_SERVER_URL","LOGIN","REACT_APP_LOGIN_URL","Token","setToken","undefined","TokenValue","value"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAwBC,SAAxB,QAAyC,OAAzC;AACA,OAAOC,YAAP,MAAyB,2BAAzB;AACA,OAAOC,aAAP,MAA0B,4BAA1B;AACA,SAASC,KAAT,EAAeC,MAAf,EAAsBC,IAAtB,EAA2BC,MAA3B,QAAyC,kBAAzC;AACA,OAAOC,QAAP,MAAqB,6BAArB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;;;AAEA,MAAMC,GAAG,GAAG,MAAK;AAAA;;AAGf,QAAMC,eAAe,GAAG,IAAIC,eAAJ,CAAoBC,MAAM,CAACC,QAAP,CAAgBC,IAApC,CAAxB;AACA,QAAMC,MAAM,GAAGC,MAAM,CAACC,WAAP,CAAmBP,eAAe,CAACQ,OAAhB,EAAnB,CAAf;AACA,QAAMC,OAAO,GAAGC,OAAO,CAACC,GAAR,CAAYC,oBAA5B;AACA,QAAMC,KAAK,GAAEH,OAAO,CAACC,GAAR,CAAYG,mBAAzB;AACA,QAAM;AAAEC,IAAAA,KAAF;AAASC,IAAAA;AAAT,MAAsBnB,QAAQ,EAApC;;AAGA,MAAGkB,KAAK,IAAI,IAAT,IAAiBA,KAAK,IAAI,EAA7B,EAAiC;AAC/B,QAAGV,MAAM,CAAC,WAAD,CAAN,IAAuBY,SAA1B,EAAoC;AACjCD,MAAAA,QAAQ,CAACX,MAAM,CAAC,WAAD,CAAP,CAAR;AACF;AACH;;AAEEf,EAAAA,SAAS,CAAC,MAAM;AAEd,QAAI4B,UAAU,GAAGH,KAAK,CAACI,KAAN,GAAcJ,KAAK,CAACI,KAApB,GAA4BJ,KAA7C;AAED;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAOS,GAlCI,EAkCF,CAACA,KAAD,CAlCE,CAAT;AAqCF,sBACE;AAAA,2BAKE,QAAC,MAAD;AAAA,6BACA,QAAC,KAAD;AAAO,QAAA,IAAI,EAAC,GAAZ;AAAgB,QAAA,OAAO,eAAE,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,gBAAzB;AAAA,gCACE,QAAC,KAAD;AAAO,UAAA,IAAI,EAAC,MAAZ;AAAmB,UAAA,OAAO,eAAE,QAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAA5B;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE,QAAC,KAAD;AAAO,UAAA,IAAI,EAAC,OAAZ;AAAoB,UAAA,OAAO,eAAE,QAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAA7B;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AALF;AAAA;AAAA;AAAA;AAAA,UADF;AAiBD,CAtED;;GAAMhB,G;UAOwBF,Q;;;KAPxBE,G;AAwEN,eAAeA,GAAf","sourcesContent":["import React ,{Fragment,useEffect } from 'react'\r\nimport GetComponent from './components/GetComponent';\r\nimport PostComponent from './components/PostComponent';\r\nimport { Route,Routes,Link,Outlet } from 'react-router-dom';\r\nimport useToken from \"./components/Hooks/useToken\";\r\nimport Layout from './components/Home/Layout';\r\n\r\nconst App = () =>{\r\n\r\n\r\n  const urlSearchParams = new URLSearchParams(window.location.hash);\r\n  const params = Object.fromEntries(urlSearchParams.entries());\r\n  const API_URL = process.env.REACT_APP_SERVER_URL;    \r\n  const LOGIN =process.env.REACT_APP_LOGIN_URL;\r\n  const { Token, setToken } = useToken();\r\n\r\n\r\n  if(Token == null || Token == \"\") {\r\n    if(params[\"#id_token\"] != undefined){\r\n       setToken(params[\"#id_token\"])\r\n    }\r\n }\r\n \r\n    useEffect(() => {\r\n    \r\n      var TokenValue = Token.value ? Token.value : Token;\r\n\r\n     /*  axios.get(API_URL+'/decodetoken', {\r\n      params: {\r\n          encoded:'\"'+TokenValue+'\"'\r\n      }\r\n          }).then(response => { \r\n\r\n            var dataResult = JSON.parse(JSON.stringify(response.data));    \r\n            console.log(dataResult)  \r\n            if(dataResult.errorMessage !== undefined ){\r\n                if(dataResult.errorMessage){\r\n                  swal({  \r\n                      title:\"Error\",\r\n                      text:\"Not authorized\",\r\n                      icon: \"error\"\r\n                    }).then(() => {\r\n                      window.localStorage.clear();\r\n                      window.location.href = LOGIN; \r\n\r\n                    });\r\n\r\n\r\n                }\r\n            }else{\r\n\r\n                //entro\r\n              }\r\n                  \r\n          \r\n          })  */\r\n            \r\n        }, [Token]);\r\n\r\n\r\n  return (\r\n    <div>\r\n      \r\n     \r\n\r\n\r\n      <Routes>\r\n      <Route path=\"/\" element={<Layout />} >\r\n        <Route path=\"/get\" element={<GetComponent />} ></Route>\r\n        <Route path=\"/post\" element={<PostComponent />} ></Route>\r\n        </Route>\r\n      </Routes>\r\n    </div>\r\n\r\n\r\n\r\n  )\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}