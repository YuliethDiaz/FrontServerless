{"ast":null,"code":"import React,{Fragment,useEffect}from'react';import GetComponent from'./components/GetComponent';import PostComponent from'./components/PostComponent';import{Route,Routes,Link,Outlet}from'react-router-dom';import{Disclosure,Menu,Transition}from'@headlessui/react';import{BellIcon,MenuIcon,XIcon}from'@heroicons/react/outline';import useToken from\"./components/Hooks/useToken\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var App=function App(){var urlSearchParams=new URLSearchParams(window.location.hash);var params=Object.fromEntries(urlSearchParams.entries());var API_URL=process.env.REACT_APP_SERVER_URL;var LOGIN=process.env.REACT_APP_LOGIN_URL;var _useToken=useToken(),Token=_useToken.Token,setToken=_useToken.setToken;if(Token==null||Token==\"\"){if(params[\"#id_token\"]!=undefined){setToken(params[\"#id_token\"]);}}useEffect(function(){var TokenValue=Token.value?Token.value:Token;/*  axios.get(API_URL+'/decodetoken', {\n      params: {\n          encoded:'\"'+TokenValue+'\"'\n      }\n          }).then(response => { \n\n            var dataResult = JSON.parse(JSON.stringify(response.data));    \n            console.log(dataResult)  \n            if(dataResult.errorMessage !== undefined ){\n                if(dataResult.errorMessage){\n                  swal({  \n                      title:\"Error\",\n                      text:\"Not authorized\",\n                      icon: \"error\"\n                    }).then(() => {\n                      window.localStorage.clear();\n                      window.location.href = LOGIN; \n\n                    });\n\n\n                }\n            }else{\n\n                //entro\n              }\n                  \n          \n          })  */},[Token]);function classNames(){for(var _len=arguments.length,classes=new Array(_len),_key=0;_key<_len;_key++){classes[_key]=arguments[_key];}return classes.filter(Boolean).join(' ');}var navigation=[{name:'Get',href:'/get',current:true},{name:'Post',href:'/post',current:false}];return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Disclosure,{as:\"nav\",className:\"bg-gray-800\",children:function children(_ref){var open=_ref.open;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-2 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative flex items-center justify-between h-16\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-y-0 left-0 flex items-center sm:hidden\",children:/*#__PURE__*/_jsxs(Disclosure.Button,{className:\"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Open main menu\"}),open?/*#__PURE__*/_jsx(XIcon,{className:\"block h-6 w-6\",\"aria-hidden\":\"true\"}):/*#__PURE__*/_jsx(MenuIcon,{className:\"block h-6 w-6\",\"aria-hidden\":\"true\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 flex items-center justify-center sm:items-stretch sm:justify-start\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-shrink-0 flex items-center\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"block lg:hidden h-8 w-auto\",src:\"https://tailwindui.com/img/logos/workflow-mark-indigo-500.svg\",alt:\"Workflow\"}),/*#__PURE__*/_jsx(\"img\",{className:\"hidden lg:block h-8 w-auto\",src:\"https://tailwindui.com/img/logos/workflow-logo-indigo-500-mark-white-text.svg\",alt:\"Workflow\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"hidden sm:block sm:ml-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-4\",children:navigation.map(function(item){return/*#__PURE__*/_jsx(Link,{to:item.href,children:/*#__PURE__*/_jsx(\"a\",{className:classNames(item.current?'bg-gray-900 text-white':'text-gray-300 hover:bg-gray-700 hover:text-white','px-3 py-2 rounded-md text-sm font-medium'),\"aria-current\":item.current?'page':undefined,children:item.name},item.name)});})})})]})]})}),/*#__PURE__*/_jsx(Disclosure.Panel,{className:\"sm:hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"px-2 pt-2 pb-3 space-y-1\",children:navigation.map(function(item){return/*#__PURE__*/_jsx(Disclosure.Button,{as:\"a\",href:item.href,className:classNames(item.current?'bg-gray-900 text-white':'text-gray-300 hover:bg-gray-700 hover:text-white','block px-3 py-2 rounded-md text-base font-medium'),\"aria-current\":item.current?'page':undefined,children:item.name},item.name);})})})]});}}),/*#__PURE__*/_jsx(Outlet,{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/get\",element:/*#__PURE__*/_jsx(GetComponent,{})}),/*#__PURE__*/_jsx(Route,{path:\"/post\",element:/*#__PURE__*/_jsx(PostComponent,{})})]})]});};export default App;","map":{"version":3,"sources":["C:/Personal/TemplateCursoServerless/src/App.jsx"],"names":["React","Fragment","useEffect","GetComponent","PostComponent","Route","Routes","Link","Outlet","Disclosure","Menu","Transition","BellIcon","MenuIcon","XIcon","useToken","App","urlSearchParams","URLSearchParams","window","location","hash","params","Object","fromEntries","entries","API_URL","process","env","REACT_APP_SERVER_URL","LOGIN","REACT_APP_LOGIN_URL","Token","setToken","undefined","TokenValue","value","classNames","classes","filter","Boolean","join","navigation","name","href","current","open","map","item"],"mappings":"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","sourcesContent":["import React ,{Fragment,useEffect } from 'react'\nimport GetComponent from './components/GetComponent';\nimport PostComponent from './components/PostComponent';\nimport { Route,Routes,Link,Outlet } from 'react-router-dom';\nimport { Disclosure, Menu, Transition } from '@headlessui/react'\nimport { BellIcon, MenuIcon, XIcon } from '@heroicons/react/outline'\nimport useToken from \"./components/Hooks/useToken\";\n\nconst App = () =>{\n\n\n  const urlSearchParams = new URLSearchParams(window.location.hash);\n  const params = Object.fromEntries(urlSearchParams.entries());\n  const API_URL = process.env.REACT_APP_SERVER_URL;    \n  const LOGIN =process.env.REACT_APP_LOGIN_URL;\n  const { Token, setToken } = useToken();\n\n\n  if(Token == null || Token == \"\") {\n    if(params[\"#id_token\"] != undefined){\n       setToken(params[\"#id_token\"])\n    }\n }\n \n    useEffect(() => {\n    \n      var TokenValue = Token.value ? Token.value : Token;\n\n     /*  axios.get(API_URL+'/decodetoken', {\n      params: {\n          encoded:'\"'+TokenValue+'\"'\n      }\n          }).then(response => { \n\n            var dataResult = JSON.parse(JSON.stringify(response.data));    \n            console.log(dataResult)  \n            if(dataResult.errorMessage !== undefined ){\n                if(dataResult.errorMessage){\n                  swal({  \n                      title:\"Error\",\n                      text:\"Not authorized\",\n                      icon: \"error\"\n                    }).then(() => {\n                      window.localStorage.clear();\n                      window.location.href = LOGIN; \n\n                    });\n\n\n                }\n            }else{\n\n                //entro\n              }\n                  \n          \n          })  */\n            \n        }, [Token]);\n\n  function classNames(...classes) {\n    return classes.filter(Boolean).join(' ')\n  }\n\n  const navigation = [\n    { name: 'Get', href: '/get', current: true },\n    { name: 'Post', href: '/post', current: false }\n  ]\n  return (\n    <div>\n      \n      <Disclosure as=\"nav\" className=\"bg-gray-800\">\n      {({ open }) => (\n        <>\n          <div className=\"max-w-7xl mx-auto px-2 sm:px-6 lg:px-8\">\n            <div className=\"relative flex items-center justify-between h-16\">\n              <div className=\"absolute inset-y-0 left-0 flex items-center sm:hidden\">\n                {/* Mobile menu button*/}\n                <Disclosure.Button className=\"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white\">\n                  <span className=\"sr-only\">Open main menu</span>\n                  {open ? (\n                    <XIcon className=\"block h-6 w-6\" aria-hidden=\"true\" />\n                  ) : (\n                    <MenuIcon className=\"block h-6 w-6\" aria-hidden=\"true\" />\n                  )}\n                </Disclosure.Button>\n              </div>\n              <div className=\"flex-1 flex items-center justify-center sm:items-stretch sm:justify-start\">\n                <div className=\"flex-shrink-0 flex items-center\">\n                  <img\n                    className=\"block lg:hidden h-8 w-auto\"\n                    src=\"https://tailwindui.com/img/logos/workflow-mark-indigo-500.svg\"\n                    alt=\"Workflow\"\n                  />\n                  <img\n                    className=\"hidden lg:block h-8 w-auto\"\n                    src=\"https://tailwindui.com/img/logos/workflow-logo-indigo-500-mark-white-text.svg\"\n                    alt=\"Workflow\"\n                  />\n                </div>\n                <div className=\"hidden sm:block sm:ml-6\">\n                  <div className=\"flex space-x-4\">\n                    {navigation.map((item) => (\n                      <Link to={item.href}>\n                        <a\n                        key={item.name}                     \n                        className={classNames(\n                          item.current ? 'bg-gray-900 text-white' : 'text-gray-300 hover:bg-gray-700 hover:text-white',\n                          'px-3 py-2 rounded-md text-sm font-medium'\n                        )}\n                        aria-current={item.current ? 'page' : undefined}\n                      >\n                        {item.name}\n                      </a>\n                      </Link>\n                    \n                    ))}\n                  </div>\n                </div>\n              </div>\n           \n            </div>\n          </div>\n\n          <Disclosure.Panel className=\"sm:hidden\">\n            <div className=\"px-2 pt-2 pb-3 space-y-1\">\n              {navigation.map((item) => (\n                <Disclosure.Button\n                  key={item.name}\n                  as=\"a\"\n                  href={item.href}\n                  className={classNames(\n                    item.current ? 'bg-gray-900 text-white' : 'text-gray-300 hover:bg-gray-700 hover:text-white',\n                    'block px-3 py-2 rounded-md text-base font-medium'\n                  )}\n                  aria-current={item.current ? 'page' : undefined}\n                >\n                  {item.name}\n                </Disclosure.Button>\n              ))}\n            </div>\n          </Disclosure.Panel>\n        </>\n      )}\n    </Disclosure>\n\n\n\n      <Outlet/>\n\n\n\n      <Routes>\n        <Route path=\"/get\" element={<GetComponent />} ></Route>\n        <Route path=\"/post\" element={<PostComponent />} ></Route>\n\n      </Routes>\n    </div>\n\n\n\n  )\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}